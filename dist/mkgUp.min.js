"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};jQuery.fn.mkgUp=function(){var e=this;if(!this.length)return this;for(var t=null,o=null,i={tip:{position:"top",scroll:!0,scrollSpeed:1,duration:1100,fadeSpeed:350,margin:5,onComplete:null,onScrollComplete:null,fixed:!1},highlight:{duration:100,fadeSpeed:250,color:null,opacity:.6,scroll:!0,scrollSpeed:1,fixed:!1,onScrollComplete:null,onComplete:null,tip:{scroll:!1}},coverBack:{duration:500,fadeSpeed:250,color:null,opacity:.7,scroll:!0,closeOnClick:!0,scrollSpeed:1,fixed:!1,onScrollComplete:null,onComplete:null,tip:{scroll:!1}},coverBackClose:{fadeSpeed:250,scroll:!1,scrollSpeed:1,onScrollComplete:null,onComplete:null},disable:{duration:0,fadeSpeed:250,color:null,opacity:.65,scroll:!1,scrollSpeed:1,fixed:!1,onScrollComplete:null,onComplete:null,tip:{scroll:!1}},disableClose:{fadeSpeed:250,scroll:!0,scrollSpeed:1,onScrollComplete:null,onComplete:null},disableToggle:{duration:0,fadeSpeed:250,color:null,opacity:.65,scroll:!1,scrollSpeed:1,fixed:!1,onScrollComplete:null,onComplete:null,onEnabled:null,onDisabled:null,tip:{scroll:!1}},loading:{duration:0,fadeSpeed:250,color:null,opacity:.95,scroll:!1,scrollSpeed:1,fixed:!1,onScrollComplete:null,onComplete:null,onLoaded:null,autoClose:!0,tip:{scroll:!1}},loadingClose:{fadeSpeed:250,scroll:!1,scrollSpeed:1,onScrollComplete:null,onComplete:null}},l=function(e){for(var t in i)if(t===e)return!0;return!1},n=function(){var e=window.MutationObserver||window.WebKitMutationObserver,t=window.addEventListener;return function(o,i){if(e){var l=new e(function(e,t){(e[0].addedNodes.length||e[0].removedNodes.length)&&i()});l.observe(o,{childList:!0,subtree:!0})}else t&&(o.addEventListener("DOMNodeInserted",i,!1),o.addEventListener("DOMNodeRemoved",i,!1))}}(),d=0;d<arguments.length;d++)"string"==typeof arguments[d]?l(arguments[d])&&!o?o=arguments[d]:t=arguments[d]:"object"===_typeof(arguments[d])?$.extend(!0,i[o],arguments[d]):"function"==typeof arguments[d]&&(i[o].onComplete=arguments[d]);o||(o="highlight");var a=function(e){var t=$(window).height(),o=$(document).height(),i=$(e).offset().top-.2*t;return 0>i&&(i=0),i+t>o&&(i=o-t),i},r=function(e){var t=Math.abs(e-$("body").scrollTop());return 400+.4*t},p={highlight:function(){var e=this,o=$(this);o.attr("id")||o.attr("id","mkgUp-target"+Date.now()),o.is("input,textarea,select")&&o.select();var l="mkgUp_highlight-"+Date.now(),n=$('<div class="mkgUp_highlight" id="'+l+'"></div>'),d="top:"+(i.highlight.fixed?o.offset().top-$(window).scrollTop():o.offset().top)+"px;left:"+o.offset().left+"px;width:"+o.outerWidth()+"px;height:"+o.outerHeight()+"px;";i.highlight.fixed&&(d+=";position:fixed"),i.highlight.color&&(d+=";background-color:"+i.highlight.color),n.attr("style",d).appendTo("body").fadeTo(i.highlight.fadeSpeed,i.highlight.opacity,function(){t&&($.extend(i.tip,i.highlight.tip),p.tip.call(e)),i.highlight.duration>0?setTimeout(function(){n.fadeOut(i.highlight.fadeSpeed,function(){i.highlight.onComplete&&i.highlight.onComplete.call(e),n.remove()})},i.highlight.duration):i.highlight.onComplete&&i.highlight.onComplete.call(e)})},coverBack:function(){var e=this,o=$(this);o.is("input,textarea,select")&&o.select();var l="mkgUp_coverback-"+Date.now(),n=o.offset();o.attr("id")||o.attr("id","mkgUp-target"+Date.now());var d=$('\n            <div class="mkgUp_coverback" id="'+l+'" target="'+o.attr("id")+'">\n                <div class="mkgUp_coverback-top" style="'+(i.coverBack.fixed?"position:fixed;":"")+"left:"+n.left+"px;width:"+o.outerWidth()+"px;height:"+(i.coverBack.fixed?n.top-$(window).scrollTop():n.top)+'px"></div>\n                <div class="mkgUp_coverback-right" style="'+(i.coverBack.fixed?"position:fixed;":"")+"left:"+(n.left+o.outerWidth())+"px;width:"+($(window).width()-n.left-o.outerWidth())+"px;height:"+$(document).height()+'px"></div>\n                <div class="mkgUp_coverback-bottom" style="'+(i.coverBack.fixed?"position:fixed;":"")+"top:"+(i.coverBack.fixed?n.top+o.outerHeight()-$(window).scrollTop():n.top+o.outerHeight())+"px;left:"+n.left+"px;width:"+o.outerWidth()+"px;height:"+($(document).height()-n.top-o.outerHeight())+'px"></div>\n                <div class="mkgUp_coverback-left" style="'+(i.coverBack.fixed?"position:fixed;":"")+"width:"+n.left+"px;height:"+$(document).height()+'px"></div>\n            </div>');d.appendTo("body").fadeTo(i.coverBack.fadeSpeed,i.coverBack.opacity,function(){t&&($.extend(i.tip,i.coverBack.tip),p.tip.call(e)),i.coverBack.duration>0?setTimeout(function(){return d.stop().fadeOut(i.coverBack.fadeSpeed,function(){i.coverBack.onComplete&&i.coverBack.onComplete.call(e)})},i.coverBack.duration):i.coverBack.onComplete&&i.coverBack.onComplete.call(e)})},coverBackClose:function(){var e=this,t=$(this),o=$('.mkgUp_coverback[target="'+t.attr("id")+'"]');o.stop().fadeOut(i.coverBackClose.fadeSpeed,function(){o.remove(),i.coverBackClose.onComplete&&i.coverBackClose.onComplete.call(e)})},disable:function(){var e=this,o=$(this);o.attr("id")||o.attr("id","mkgUp-target"+Date.now());var l="mkgUp_disable-"+Date.now(),n=$('<div class="mkgUp_disable" id="'+l+'" target="'+o.attr("id")+'"></div>');$('.mkgUp_disable[target="'+o.attr("id")+'"]').length&&(n=$('.mkgUp_disable[target="'+o.attr("id")+'"]'));var d="top:"+(i.disable.fixed?o.offset().top-$(window).scrollTop():o.offset().top)+"px;left:"+o.offset().left+"px;width:"+o.outerWidth()+"px;height:"+o.outerHeight()+"px;";i.disable.fixed&&(d+=";position:fixed"),i.disable.color&&(d+=";background-color:"+i.disable.color),n.attr("style",d).appendTo("body").fadeTo(i.disable.fadeSpeed,i.disable.opacity,function(){t&&($.extend(i.tip,i.disable.tip),p.tip.call(e)),i.disable.duration>0?setTimeout(function(){n.fadeOut(i.disable.fadeSpeed,function(){i.disable.onComplete&&i.disable.onComplete.call(e),n.remove()})},i.disable.duration):i.disable.onComplete&&i.disable.onComplete.call(e)})},disableClose:function(){var e=this,t=$(this),o=$('.mkgUp_disable[target="'+t.attr("id")+'"]');o.fadeOut(i.disableClose.fadeSpeed,function(){o.remove(),i.disableClose.onEnabled&&i.disableClose.onEnabled.call(e),i.disableClose.onComplete&&i.disableClose.onComplete.call(e)})},disableToggle:function(){var e=$(this);e.attr("id")||e.attr("id","mkgUp-target"+Date.now()),$('.mkgUp_disable[target="'+e.attr("id")+'"]').length?(i.disableClose=i.disableToggle,p.disableClose.call(this)):(i.disable=i.disableToggle,p.disable.call(this))},loading:function(){var e=this,o=$(this);o.attr("id")||o.attr("id","mkgUp-target"+Date.now());var l="mkgUp_disable-"+Date.now(),d=$('<div class="mkgUp_loading" id="'+l+'" target="'+o.attr("id")+'"></div>');$('.mkgUp_loading[target="'+o.attr("id")+'"]').length&&(d=$('.mkgUp_loading[target="'+o.attr("id")+'"]'));var a="top:"+(i.loading.fixed?o.offset().top-$(window).scrollTop():o.offset().top)+"px;left:"+o.offset().left+"px;width:"+o.outerWidth()+"px;height:"+o.outerHeight()+"px;";i.loading.fixed&&(a+=";position:fixed"),i.loading.color&&(a+=";background-color:"+i.loading.color),d.attr("style",a).appendTo("body").fadeTo(i.loading.fadeSpeed,i.loading.opacity,function(){t&&($.extend(i.tip,i.loading.tip),p.tip.call(e)),i.loading.duration>0?setTimeout(function(){d.fadeOut(i.loading.fadeSpeed,function(){i.loading.onComplete&&i.loading.onComplete.call(e),d.remove()})},i.loading.duration):(i.loading.onComplete&&i.loading.onComplete.call(e),o.each(function(){var e=this;n(this,function(){i.loading.autoClose&&p.loadingClose.call(e),i.loading.onLoaded&&i.loading.onLoaded.call(e)})}))})},loadingClose:function(){var e=this,t=$(this),o=$('.mkgUp_loading[target="'+t.attr("id")+'"]');o.stop().fadeOut(i.loadingClose.fadeSpeed,function(){o.remove(),i.loadingClose.onEnabled&&i.loadingClose.onEnabled.call(e),i.loadingClose.onComplete&&i.loadingClose.onComplete.call(e)})},tip:function f(){var e=this,l=$(this);l.is("input,textarea,select")&&l.select();var n="mkgUp_tip-"+Date.now(),f=$('<div class="mkgUp_tip mkgUp_tip--'+i.tip.position+'" id="'+n+'" target="'+l.attr("id")+'">'+t+"</div>");f.appendTo("body");var d=void 0,a=void 0,r=void 0;"top"===i.tip.position?(a=i.tip.fixed?l.offset().top-$(window).scrollTop():l.offset().top,d=l.offset().left+l.outerWidth()/2,a-=f.outerHeight(),d-=f.outerWidth()/2,a-=i.tip.margin):"right"===i.tip.position?(a=i.tip.fixed?l.offset().top+l.outerHeight()/2-$(window).scrollTop():l.offset().top+l.outerHeight()/2,d=l.offset().left+l.outerWidth(),a-=f.outerHeight()/2,d+=i.tip.margin):"bottom"===i.tip.position?(a=i.tip.fixed?l.offset().top+l.outerHeight()-$(window).scrollTop():l.offset().top+l.outerHeight(),d=l.offset().left+l.outerWidth()/2,d-=f.outerWidth()/2,a+=i.tip.margin):"left"===i.tip.position?(a=i.tip.fixed?l.offset().top+l.outerHeight()/2-$(window).scrollTop():l.offset().top+l.outerHeight()/2,d=l.offset().left,a-=f.outerHeight()/2,d-=f.outerWidth(),d-=i.tip.margin):"center"===i.tip.position&&(a=i.tip.fixed?l.offset().top+l.outerHeight()/2-$(window).scrollTop():l.offset().top+l.outerHeight()/2,d=l.offset().left+l.outerWidth()/2,a-=f.outerHeight()/2,d-=f.outerWidth()/2,"loading"===o&&(a+=60)),0>d&&(d=0),0>a&&(a=0),d+f.outerWidth()>$(window).width()&&(d=$(window).width()-f.outerWidth()),i.tip.fixed&&(r+=";position:fixed"),f.attr("style","top:"+a+"px;left:"+d+"px;"+r),i.tip.duration>0?setTimeout(function(){return f.fadeOut(i.tip.fadeSpeed,function(){i.tip.onComplete&&i.tip.onComplete.call(e)})},i.tip.duration):i.tip.onComplete&&i.tip.onComplete.call(this)}},s=i[o];if(s.scroll&&!s.fixed){var c=a(this);$("body").stop().animate({scrollTop:c},r(c)/s.scrollSpeed,function(){s.onScrollComplete&&s.onScrollComplete.call(e.get()),e.each(function(){p[o].call(this)})})}else this.each(function(){p[o].call(this)});return this};